{% extends 'base_admin.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/AppBundle/css/bombillo.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/revealjs/css/reveal.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/revealjs/css/theme/moon.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/revealjs/lib/css/zenburn.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/bootstrapTour/bootstrap-tour.min.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/jquery-ui/jquery-ui.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/elfinder/css/elfinder.full.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/elfinder/css/theme.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/sweetAlert/sweetalert.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/animate/animate.css') }}">

    <link rel="stylesheet" href="{{ asset('assets/vendor/quiz/slickQuiz.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/quiz/master.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/steps/jquery.steps.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/iziToast/dist/css/iziToast.min.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/moovly/css/videojs/video-js.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/vendor/moovly/css/main.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/AppBundle/css/git.css') }}" >


{% endblock %}

{% block tituloCurso  %} Bienvenido a tu curso: {{ inscripcion.idCursoGrupo.idCurso.nombre }} {% endblock %}


{% block body %}



    <div class="row">
        <div class="col-lg-7" style="height:400px" id="tour3">

            <div class="reveal">

                <!-- Any section element inside of this container is displayed as a slide -->
                <div class="slides">
                    <section data-background-image="{{ asset('images/course/bg_git.jpg') }}">
                        <h1>Fundamentos de GIT</h1>
                        <h3>El Controlador de versiones distribuido Libre</h3>
                        <p>
                            <small>Creado por <a href="www.tecnolineaparaguana.com.ve">Wilmer Ramones</a> / <a
                                        href="http://twitter.com/wramonesr">@wramonesr</a></small>
                        </p>
                    </section>


                    <section>
                        <h3>Objetivos de Este módulo:</h3>
                        <ul>
                            <li class="fragment fade-left" data-autoslide="2500">Conocer la estructura de GIT</li>
                            <li class="fragment fade-left" data-autoslide="2500">Flujo de Trabajo con GIT</li>
                            <li class="fragment fade-left" data-autoslide="2500">Conocer el estatus de un proyecto</li>
                            <li class="fragment fade-left" data-autoslide="2500">Rastrear Archivos</li>
                            <li class="fragment fade-left" data-autoslide="2500">Confirmar los Cambios</li>
                        </ul>

                    </section>

                    <!-- Example of nested vertical slides -->


                    <section>

                        <section data-background="{{ asset('images/course/gif/earthRotation.gif') }}">
                            <h2 style="background-color:#D33581; opacity:0.8;">Recuerda utilizar barra espaciadora para pasar por todas las láminas</h2>
                        </section>

                        <section data-background="{{ asset('images/course/gif/thinking.gif') }}">
                            <h2 style="background-color:#D33581; opacity:0.8;">¿Repositorio Git?</h2>
                        </section>
                        <section data-background="{{ asset('images/course/dotGit.png') }}">
                            <p style="background-color: #8a6d3b; opacity: 0.8; color:black;">
                                Se le llama Repositorio Git a la acción de tener la estructura
                                de archivos <strong>.git </strong> dentro de un
                                directorio.  Pueden notar que dentro de su proyecto tienen un
                                carpeta que se llama .git.
                            </p>

                        </section>
                        <section data-background="{{ asset('images/course/dotGit.png') }}">
                            <h3 style="color:black;">
                                ¿Cómo obtenemos un Repositorio GIT?</h3>
                                <p style="background-color: #8a6d3b; opacity: 0.8; color:black;">
                                    Para que git cree su estructura .git podemos inicializarla
                                    a través del comando <strong>git init</strong> (Lo vimos en el módulo pasado)
                                    - o - "Clonando" un proyecto con un </strong>repositorio .git</li> ya existente.
                                </p>
                            </p>

                        </section>




                        <section data-background-size="cover"
                                 data-background="{{ asset('images/course/gif/clonar.gif') }}">
                            <h2>¿Clonar un Repositorio?</h2>

                        </section>
                        <section>
                            <h2 style="background-color: #3e495f; opacity: 0.6; color:white;">Para clonar un repositorio</h2>
                            <pre ><code class="hljs" style="word-wrap: break-word;">$ git clone [url]</code></pre>
                            [URL] es la dirección en donde se encuentra alojado el repositorio.  Por ejemplo:
                            <p><pre ><code class="hljs" style="word-wrap: break-word;">$ git clone https://github.com/libgit2/libgit2</code></pre>
                            </p>
                            <p><strong>Con esto git crea:</strong> la carpeta del proyecto, se inicializa (.git)
                                y crea una copia de trabajo con los archivos en su versión más reciente. (checkout)</p>
                            <h3 style="background-color: #3e495f; opacity: 0.6; color:white;">Tranquilo(a) lo explicaremos más adelante</h3>
                        </section>

                    </section>

                    <section data-background="{{ asset('images/course/gif/happyMin.gif') }}">
                        <h3 style="background-color:#D33581; opacity:0.8;">
                            Ya sabemos a que llamamos un repositorio GIT.
                        </h3>
                        <p style="background-color:#D33581; opacity:0.8; color:white;">
                            <strong>Pregunta:</strong> <u>¿Es nuestro directorio del proyecto un Repositorio GIT?</u>
                        </p>

                    </section>


                    <section
                            data-background="http://3.bp.blogspot.com/-b_ZCZTZvScM/VV516MMUb4I/AAAAAAAAIUI/Gb2-LSHfA0o/s1600/uwhgGVt.gif">
                        <h3 style="background-color:#D33581; opacity:0.8;">Si, si es un repositorio GIT.
                        </h3>
                        <p style="background-color: #90caf9; opacity:0.8; color: white;">vamos manos a la obra... <strong>Pero desde el manejador de archivos</strong></p>

                    </section>


                    <section data-state="actividad0">
                        {% set done = "" %}
                        {% if archivo %} {% set done = 'animated bounceInLeft fa fa-check-circle' %} {% endif %}
                        <h3>Crear un archivo <i style="color:greenyellow;" class= "{{ done }}"></i></h3>
                        <p class="fragment fade-up" data-autoslide="2500">Ingresa a tu proyecto desde el Manejador de Archivos</p>
                        <div class="row">
                            <div class="col-xs-10">
                                <a>
                                    <pre class="fragment fade-right" data-autoslide="2500"><code class="hljs" style="word-wrap: break-word;">Click en el segundo icono de la barra de menu</code></pre>
                                </a>
                            </div>
                            <div class="col-xs-2">
                                <i id="addDone1" style="color:greenyellow;" class="addDone1 {{ done }}"></i>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-10">
                                <a>
                                    <pre class="fragment fade-right" data-autoslide="2500"><code class="hljs" style="word-wrap: break-word;">Colocamos el nombre LEEME.txt</code></pre>
                                </a>
                            </div>
                            <div class="col-xs-2">
                                <i id="addDone1" style="color:greenyellow;" class="addDone1  {{ done }}"></i>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-10">
                                <a>
                                    <pre class="fragment fade-right" data-autoslide="2500"><code class="hljs" style="word-wrap: break-word;">Editamos nuestro nuevo archivo</code></pre>
                                </a>
                            </div>
                            <div class="col-xs-2">
                                <i id="addDone2" style="color:greenyellow;" class="addDone2  {{ done }}"></i>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-10">
                                <a>
                                    <pre class="fragment fade-right" data-autoslide="2500"><code class="hljs" style="word-wrap: break-word;">Escribimos lo que deseemos</code></pre>
                                </a>
                            </div>
                            <div class="col-xs-2">
                                <i id="addDone2" style="color:greenyellow;" class="addDone2  {{ done }}"></i>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-10">
                                <a>
                                    <pre class="fragment fade-right" data-autoslide="2500"><code class="hljs" style="word-wrap: break-word;">Guardar y Salir</code></pre>
                                </a>
                            </div>
                            <div class="col-xs-2">
                                <i id="addDone2" style="color:greenyellow;" class="addDone2  {{ done }}"></i>
                            </div>
                        </div>



                        <p class="fragment fade-down" data-autoslide="500"><span class="fragment highlight-red"
                                                                                 data-autoslide="1000">En sus marcas</span>
                            <span class="fragment highlight-blue" data-autoslide="1000">Listos</span> <span
                                    class="fragment highlight-green">Fuera</span></p>
                    </section>




                    <section data-background="{{ asset('images/course/gif/happyMin.gif') }}">
                        <h2>Felicitaciones... Creamos un nuevo archivo</h2>
                    </section>

                    <section
                            data-background="http://3.bp.blogspot.com/-b_ZCZTZvScM/VV516MMUb4I/AAAAAAAAIUI/Gb2-LSHfA0o/s1600/uwhgGVt.gif">
                        <h2>Nuevamente Manos a la obra</h2>

                    </section>


                    <section data-state="actividad1">

                        <h3>Añadir y Confirmar cambios en GIT <i id="confirmado" style="color:greenyellow;" class= ""></i></h3></h3>
                        <div class="row">
                            <div class="row">
                                <div class="col-xs-10">
                                    <a>
                                        <pre class="fragment fade-right" data-autoslide="2500">desde la consola ingresa a tu proyecto<code class="hljs" style="word-wrap: break-word;">$ cd nombre_proyecto</code></pre>
                                    </a>
                                </div>
                                <div class="col-xs-2">
                                    <i id="cd" style="color:greenyellow;" class="cd confirmado"></i>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-10">
                                    <a>
                                    <pre class="fragment fade-right" data-autoslide="2500">Luego Ejecutamos<code class="hljs" style="word-wrap: break-word;">$ git add . </code></pre>
                                    </a>
                                </div>
                                <div class="col-xs-2">
                                    <i id="add" style="color:greenyellow;" class="add confirmado"></i>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-10">
                                    <a>
                                    <pre class="fragment fade-right" data-autoslide="2500">confirmar los cambios de forma <strong>permanente</strong><code class="hljs" style="word-wrap: break-word;">$ git commit -m "mensaje"</code></pre>
                                    </a>
                                </div>
                                <div class="col-xs-2">
                                    <i id="commit" style="color:greenyellow;" class="commit confirmado"></i>
                                </div>
                            </div>
                            <div class="col-xs-12 fragment fade-up" data-autoslide="2500">"mensaje" es una breve descripción de los cambios que estás haciendo.  espera unas láminas y entenderemos todo</div><div class="col-xs-2"><i id="act1done" style="color:greenyellow;" class=""></i></div>
                        </div>


                        <p class="fragment fade-down" data-autoslide="500"><span class="fragment highlight-red"
                                                                                 data-autoslide="1000">En sus marcas</span>
                            <span class="fragment highlight-blue" data-autoslide="1000">Listos</span> <span
                                    class="fragment highlight-green">Fuera</span></p>
                    </section>

                    <section data-background="{{ asset('images/course/gif/happyMin.gif') }}">
                        <h2>Felicitaciones... confirmastes tu primer archivo en GIT</h2>
                    </section>

                    <section>
                        <h2>El trabajo con Git</h2>
                        <p>
                            Básicamente los comandos que ejecutamos representan el 80% del
                            flujo de trabajo con git: creamos un archivo, lo modificamos,
                            añadimos el archivo y/o los cambios (git add) y finalmente
                            los confirmamos al repositorio (git commit)
                        </p>

                        <div class="row">
                            <div class="col-xs-3">
                                <img src="{{ asset('images/course/square.png') }}" alt="A blue square" width="64"
                                     height="64" class="animated infinite bounce"/>
                                <p>
                                    <small><strong>Creamos</strong></small>
                                </p>
                            </div>
                            <div class="col-xs-3">
                                <img src="{{ asset('images/course/square.png') }}" alt="A blue square" width="42"
                                     height="42" class="animated infinite flip"/>
                                <p>
                                    <small><strong>Modificamos</strong></small>
                                </p>
                            </div>
                            <div class="col-xs-3">
                                <img src="{{ asset('images/course/square.png') }}" alt="A blue square" width="42"
                                     height="42" class="animated infinite bounce"/>
                                <p>
                                    <small><strong>Registramos</strong></small>
                                </p>
                            </div>
                            <div class="col-xs-3">
                                <img src="{{ asset('images/course/square.png') }}" alt="A blue square" width="42"
                                     height="42" class="animated infinite flip"/>
                                <p>
                                    <small><strong>Confirmamos</strong></small>
                                </p>
                            </div>

                        </div>

                    </section>

                    <section data-background="{{ asset('images/course/gif/thinking.gif') }}">
                        <h2 style="color:black">¿Que fue lo que acabamos de hacer?</h2>
                    </section>

                    <section>

                        <section>
                            <p>Para encender nuestros conocimientos sobre lo que ejecutamos,
                                (<strong>git add .</strong>) y confirmarlos (<strong>git commit</strong>), tenemos que
                            entender la arquitectura y el flujo trabajo de GIT. El siguiente
                            video explica de manera no tan aburrida (espero...) dicha arquitectura</p>
                        </section>
                        <section id="vcs-arbol" data-state="videoArbol"
                                 data-background-video="{{ asset('assets/vendor/moovly/videos/3arbol.webm') }}">

                        </section>


                    </section>



                    <section data-background="{{ asset('images/course/gif/malabar2.gif') }}">
                        <h4 style="color:white; background-color: #3e495f; opacity: 0.6;"><strong>Excelente, ya conoces la arquitectura tres árboles de git. Mas adelante jugaremos y haremos malabares con ella</strong></h4>
                    </section>


                    <section data-state="qz" data-background="{{ asset('images/course/gif/typing2.gif') }}">
                        <h2 style="background-color: #B0125E;">Ahora a realizar el Quiz</h2>
                    </section>

                </div>

            </div>


        </div>

        <div class="col-lg-5">
            <ul class="stat-list">
                <li>

                    <small>Progreso de este nivel</small>
                    <div class="stat-percent">0%</div>
                    <div class="progress progress-mini">
                        <div id="progressbar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                             style="width: 0%;" class="progress-bar"></div>
                    </div>
                </li>
                <li>
                    <div class="row">
                        <div class="col-lg-5">
                            Logros disponibles en este Nivel:
                        </div>
                        <div class="col-lg-7">
                            <div class="tooltip-demo">
                                {% set contadorObtenidos = 0 %}
                                {% for logroD in logrosDisponibles %}
                                    {% set obtenido = false %}
                                    {% for logroO in logrosObtenidos %}
                                        {% if logroO.idCursoModuloTemaLogro.id == logroD.id %}
                                            {% set contadorObtenidos = contadorObtenidos + 1 %}
                                            {% set obtenido = true %}
                                        {% endif %}
                                    {% endfor %}
                                    {% if not obtenido %}
                                        <span id="{{ logroD.nombreCorto }}" data-toggle="tooltip" data-placement="top"
                                              title="{{ logroD.nombre }}" class="fa-stack has-badge"
                                              data-count="{{ logroD.badge }}">
                                            <i class="fa fa-circle fa-stack-2x"></i>
                                            <i class="{{ logroD.fontawesome }} fa-stack-1x fa-inverse"></i>
                                        </span>
                                    {% else %}
                                        {% if logroD.id == 2 %}
                                            <input type="hidden" id="quizOpen" value="true"/>
                                        {% endif %}
                                        {% if logroD.nombreCorto == "commit1" %}
                                            <input type="hidden" name="comm" id="comm" value="true">
                                         {% endif %}
                                        <span id="{{ logroD.nombreCorto }}" data-toggle="tooltip" data-placement="top"
                                              title="{{ logroD.nombre }}" class="fa-stack has-badge"
                                              data-count="{{ logroD.badge }}">
                                            <i class="fa fa-circle fa-stack-2x text-warning"></i>
                                            <i class="{{ logroD.fontawesome }} fa-stack-1x fa-inverse"></i>
                                        </span>
                                    {% endif %}
                                {% endfor %}

                                {% if contadorObtenidos > 0 %}
                                    <input type="hidden" id="contadorObtenidos" value="{{ contadorObtenidos }}"/>
                                {% endif %}

                            </div>
                        </div>
                    </div>
                </li>


            </ul>
        </div>


        <div class="col-lg-5 acomodar">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Mis Evaluaciones</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="fa fa-wrench"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-user">
                            <li><a href="#">Config option 1</a>
                            </li>
                            <li><a href="#">Config option 2</a>
                            </li>
                        </ul>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content profile-content">

                    <div id="slickQuiz">
                        <input type="hidden" name="qnumber" id="qnumber" value="2">
                        <h1 class="quizName"><!-- where the quiz name goes --></h1>

                        <div class="quizArea">
                            <div class="quizHeader">
                                <!-- where the quiz main copy goes -->

                                <a class="button_quiz startQuiz" id="btnQuiz" href="#">Comenzar Quiz!</a>

                            </div>

                            <!-- where the quiz gets built -->
                        </div>

                        <div class="quizResults">
                            <h3 class="quizScore">Tus Puntos: <span><!-- where the quiz score goes --></span></h3>

                            <h3 class="quizLevel"><strong>Nivel:</strong> <span><!-- where the quiz ranking level goes --></span>
                            </h3>
                            <a class="next_class btn btn-success" id="next_class"
                               href="{{ path('estudiante_curso_programacion', { 'id': inscripcion.id, 'avance': avance + 1 }) }}">siguiente
                                Clase!</a>
                            <input id="inscripcion" type="hidden" value="{{ inscripcion.id }}"/>
                            <input id="url_exp" type="hidden" value="{{ url('gamificacion_add_xp') }}"/>
                            <input id="url_logro" type="hidden" value="{{ url('gamificacion_add_logro') }}"/>
                            <input id="url_avance" type="hidden" value="{{ url('ajax_avance') }}"/>
                            <input id="tema_actual" type="hidden" value="{{ temaActual.id }}"/>
                            <input id="url_evaluacion" type="hidden" value="{{ url('ajax_evaluacion') }}"/>
                            <div class="quizResultsCopy">
                                <!-- where the quiz result copy goes -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <!--row -->



    <div class="row">
        <div class="col-lg-7 acomodar" id="tour4">

            <div class="window" id="console-panel">
                <div class="topbar">
                    <div class="icons">
                        <div class="close"></div>
                        <div class="hide"></div>
                        <div class="maximize"></div>
                    </div>
                    <p class="wtitle">Terminal</p>
                </div>

                <pre id="preConsole"></pre>
                <form id="console">
                    <div id="currentDirName">{{ currentDirName }}/</div>
                    <div>{{ currentUser }}$></div>
                    <div id="command"><input id="inputConsole" type="text" value="" autocomplete="off"></div>
                </form>
            </div>

        </div>


        <div class="col-lg-5 acomodar">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Manejador de Archivos</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="fa fa-wrench"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-user">
                            <li><a href="#">Config option 1</a>
                            </li>
                            <li><a href="#">Config option 2</a>
                            </li>
                        </ul>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content profile-content">

                    <div id="elfinder"></div>
                </div>
            </div>
        </div>


    </div>

    <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="flipbook-viewport">
                    <div class="container">
                        <div class="flipbook">
                            <div style="background-image:url({{ asset('images/books/1.jpg') }})"></div>
                            <div style="background-image:url({{ asset('images/books/2.png') }})"></div>
                            <div style="background-image:url({{ asset('images/books/3.jpg') }})"></div>
                            <div style="background-image:url({{ asset('images/books/4.jpg') }})"></div>
                            <div style="background-image:url({{ asset('images/books/5.jpg') }})"></div>
                            <div style="background-image:url({{ asset('images/books/1.jpg') }})"></div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>






{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script src="{{ asset('assets/vendor/elfinder/js/elfinder.full.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/elfinder/js/i18n/elfinder.es.js') }}" type="text/javascript"></script>

    <script src="{{ asset('assets/vendor/revealjs/lib/js/head.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/revealjs/js/reveal.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/sweetAlert/sweetalert.min.js') }}" type="text/javascript"></script>

    <script src="{{ asset('assets/vendor/bootstrapTour/bootstrap-tour.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/modernizr/modernizr.2.5.3.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/steps/jquery.steps.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/quiz/slickQuiz-config2.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/quiz/slickQuiz.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/quiz/master.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/iziToast/dist/js/iziToast.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendor/moovly/js/videojs/video.js') }}" type="text/javascript"></script>




    <script type="text/javascript">


        /**
         *  History of commands.
         */
        (function ($) {
            var maxHistory = 100;
            var position = -1;
            var currentCommand = '';
            var addCommand = function (command) {
                var ls = localStorage['commands'];
                var commands = ls ? JSON.parse(ls) : [];
                if (commands.length > maxHistory) {
                    commands.shift();
                }
                commands.push(command);
                localStorage['commands'] = JSON.stringify(commands);
            };
            var getCommand = function (at) {
                var ls = localStorage['commands'];
                var commands = ls ? JSON.parse(ls) : [];
                if (at < 0) {
                    position = at = -1;
                    return currentCommand;
                }
                if (at >= commands.length) {
                    position = at = commands.length - 1;
                }
                return commands[commands.length - at - 1];
            };

            $.fn.history = function () {
                var input = $(this);
                input.keydown(function (e) {
                    var code = (e.keyCode ? e.keyCode : e.which);

                    if (code == 38) { // Up
                        if (position == -1) {
                            currentCommand = input.val();
                        }
                        input.val(getCommand(++position));
                        return false;
                    } else if (code == 40) { // Down
                        input.val(getCommand(--position));
                        return false;
                    } else {
                        position = -1;
                    }
                });

                return input;
            };

            $.fn.addHistory = function (command) {
                addCommand(command);
            };
        })(jQuery);


        /**
         * Windows variables.
         */
        window.topDir = '{{ currentDir }}';
        window.currentDir = '{{ currentDir }}';
        window.currentDirName = window.currentDir.split('/').pop();
        window.currentUser = "{{ app.user.username }}";
        window.titlePattern = "* — console";
        window.document.title = window.titlePattern.replace('*', window.currentDirName);
        $comm = false;
        alert($("#comm").val());
        if ($("#comm").val()){
            $comm = true;
            $("#confirmado").addClass('animated bounceInLeft fa fa-check-circle');
            $(".confirmado").addClass('animated bounceInLeft fa fa-check-circle');
        }
        var actividades = {actividad0: {{ archivo }}, actividad1: $comm, actividad2: false, actividad3: false};
        var comandos = {mkdir: {{ mkdir }}, add: $comm, commit: $comm};
        var directorio = {crear: false, modificar: false};

        jQuery(function ($) {


            Reveal.initialize({
                controls: true,
                progress: true,
                history: false,
                center: true,
                autoSlideStoppable: false,
                slideNumber: false,
                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    {
                        src: "{{ asset('assets/vendor/revealjs/lib/js/classList.js') }}", condition: function () {
                        return !document.body.classList;
                    }
                    },
                    {
                        src: "{{ asset('assets/vendor/revealjs/plugin/markdown/marked.js') }}", condition: function () {
                        return !!document.querySelector('[data-markdown]');
                    }
                    },
                    {
                        src: "{{ asset('assets/vendor/revealjs/plugin/markdown/markdown.js') }}",
                        condition: function () {
                            return !!document.querySelector('[data-markdown]');
                        }
                    },
                    {
                        src: "{{ asset('assets/vendor/revealjs/plugin/highlight/highlight.js') }}",
                        async: true,
                        callback: function () {
                            hljs.initHighlightingOnLoad();
                        }
                    },
                    {src: "{{ asset('assets/vendor/revealjs/plugin/zoom-js/zoom.js') }}", async: true},
                    {src: "{{ asset('assets/vendor/revealjs/plugin/notes/notes.js') }}", async: true}
                ]
            });


            var $configUser = false;
            var screen = $('#preConsole');
            var input = $('#inputConsole').focus();
            var form = $('#console');

            input.history();

            form.submit(function () {


                var command = $.trim(input.val());
                if (command == '') {
                    return false;
                }

                $("<code id='preCode'>" + window.currentDirName + "&nbsp;" + window.currentUser + "$&nbsp;" + command + "</code><br>").appendTo(screen);

                //scroll();
                input.val('');
                form.hide();
                input.addHistory(command);
                var data3 = {command: command, cd: window.currentDir, user: window.currentUser, comandos: comandos};
                $.ajax({
                    method: "GET",
                    url: "{{ url('ajax_console') }}",
                    async: true,
                    cache: false,
                    data: data3,
                    //timeout: 50000,
                    success: function (data) {
                        console.log(data);

                        var pattern = /^set current directory (.+?)$/i;
                        if (matches = data.salida.match(pattern)) {
                            console.log(matches);
                            window.currentDir = matches[1];
                            window.currentDirName = window.currentDir.split('/').pop() + "/";
                            $('#currentDirName').text(window.currentDirName);
                            window.document.title = window.titlePattern.replace('*', window.currentDirName);
                            if(comandos['mkdir'] || archivo['mkdir']){
                                comandos['cd'] = true;
                                $(".cd").addClass('animated bounceInLeft fa fa-check-circle');
                            }
                        } else {
                            if (data.error === "") {
                                if (data.comando) {
                                    console.log(comandos);
                                    console.log("Esto es match: " + data.comando.match($gitCommit));
                                    if (data.comando.match($comandoGit)) {
                                        if (data.comando.match($gitAdd)) {
                                            $(".add").addClass('animated bounceInLeft fa fa-check-circle');
                                            if (!actividades['actividad1'])
                                                add_logro("comandos2", "comandos2.png");
                                            comandos['add'] = true;
                                            $("#progressbar").css("width", "60%");
                                            $("#progressbar").attr("aria-valuenow", "60%");
                                            $('.stat-percent').html('60%');

                                            //$("#reto1").val("Correcto, si tenemos Git instalado y nos especifica el número de versión que tenemos instalada.")
                                        } else if (data.comando.match($gitCommit)) {
                                            if (comandos['add']) {
                                                $(".commit").addClass('animated bounceInLeft fa fa-check-circle');
                                                if (!actividades['actividad1']) {
                                                    add_logro("comandos2", "comandos2.png");
                                                    add_logro("commit1", "commit1.png");
                                                    $("#commit1").addClass("animated bounce infinite text-warning").delay(10000).queue(function(next){
                                                        $(this).removeClass("animated bounce infinite");
                                                        next();
                                                    });
                                                }
                                                actividades['actividad1'] = true;
                                                toggleNav(true);
                                                comandos['commit'] = true;
                                                $("#progressbar").css("width", "70%");
                                                $("#progressbar").attr("aria-valuenow", "70%");
                                                $('.stat-percent').html('70%');
                                            } else {
                                                screen.append("debes añadir primero todos los cambios antes de confirmar");
                                            }

                                        }

                                    }
                                }
                                screen.append(data.salida);
                            } else {
                                screen.append(data.error);
                            }
                        }
                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        console.log(errorThrown, textStatus, XMLHttpRequest);

                        //setTimeout(waitForMsg, 300000);

                    },
                    complete: function () {
                        form.show();
                        $('#inputConsole').focus();
                    }

                });
                return false;
            });


            $('#elfinder').elfinder({
                url: "{{ asset('assets/vendor/elfinder/php/connector.minimal.php') }}",
                lang: 'es',
                height: 250,
                customData: {user: "{{ app.user }}"},
                handlers: {
                    dblclick: function (event, elfinderInstance) {
                        event.preventDefault();
                        elfinderInstance.exec('getfile')
                            .done(function () {
                                elfinderInstance.exec('quicklook');
                            })
                            .fail(function () {
                                elfinderInstance.exec('open');
                            });
                    },
                    init : function(event){
                        console.log(event);
                    },
                    add   : function(event) {
                        console.log(event.data);
                        if (event.data.added){
                            if (event.data.added[0].name != "{{ app.user.userName }}") {
                                console.log("archivo creado");


                                if (!actividades['actividad0'])
                                    add_logro("directorio_virtual", "directorio1.png");
                                directorio['crear'] = true;

                                $("#progressbar").css("width", "35%");
                                $("#progressbar").attr("aria-valuenow", "35%");
                                $('.stat-percent').html('35%');
                                $(".addDone1").addClass('fa fa-check-circle');
                            }

                        }
                    },
                    change   : function(event) {
                        console.log(event.data);
                        if (event.data.changed[0].size > 0){
                            console.log("archivo modificado");
                            toggleNav(true);
                            $(".addDone2").addClass('fa fa-check-circle');
                            if (!actividades['actividad0'])
                                add_logro("directorio_virtual", "directorio1.png");
                            directorio['modificar'] = true;
                            actividades['actividad0'] = true;
                            $("#progressbar").css("width", "50%");
                            $("#progressbar").attr("aria-valuenow", "50%");
                            $('.stat-percent').html('50%');
                        }
                    }
                },
                getFileCallback: function (files, fm) {
                    return false;
                },
                uiOptions: {
                    toolbar: [
                        // toolbar configuration
                        ['open', 'mkfile', 'edit'],
                        ['home', 'up'],
                        ['info'],
                        ['reload'],
                        ['quicklook'],
                        ['view'],
                        ['help']
                    ]
                },
                contextmenu: {
                    // navbarfolder menu
                    navbar: ['open', '|', 'copy', 'cut', 'paste', 'duplicate', '|', 'rm', '|', 'info'],
                    // current directory menu
                    cwd: ['back', '|', 'mkdir', 'mkfile', 'paste', '|', 'info'],
                    // current directory file menu
                    files: [
                        'open', 'quicklook', '|',
                        'rm', '|', 'edit', 'rename', 'info'
                    ]
                }
            });




            Reveal.addEventListener('actividad0', function (event) {

                if($("#comm").val() == "true"){
                    actividades["actividad1"] = true;
                    actividades["actividad2"] = true;
                }
                if (!actividades['actividad0']) {
                    toggleNav(false);
                }

            });


            Reveal.addEventListener('actividad1', function (event) {
                if (!actividades['actividad1']) {
                    toggleNav(false);
                }
            });

            Reveal.addEventListener('actividad2', function (event) {
                if (!actividades['actividad2']) {
                    toggleNav(false);
                }
            });

            Reveal.addEventListener('actividad3', function (event) {
                if (!actividades['actividad3']) {
                    toggleNav(false);
                }
            });


            Reveal.addEventListener('videoArbol', function (event) {
                    actividades['actividad3'] = true;
                    $("#btnQuiz").prop('disabled', false);
                    $("#btnQuiz").attr('disabled', false);

            });


            Reveal.addEventListener('qz', function (event) {
                if (!actividades['actividad3']) {
                    Reveal.slide(11);
                    var state = Reveal.getState();
                    Reveal.setState(state);

                    iziToast.error({
                        title: 'Alto',
                        message: 'Debes ver el video primero para poder realizar el QUIZ',
                        position: 'topRight'
                    });
                }
            });

            //Debo estar pendiente si pasa a la lamina 15 sin hacer el ejercicio,
            //devolverlo a la 14
            Reveal.addEventListener('slidechanged', function (event) {
                // event.previousSlide, event.currentSlide, event.indexh, event.indexv


                console.log(event.indexh);


                if (event.indexh === 13) {
                        $("#progressbar").css("width", "100%");
                        $("#progressbar").attr("aria-valuenow", "100%");
                        $('.stat-percent').html('100%');

                }

                if (event.indexh === 14) {
                    if (actividades['actividad0'] && actividades['actividad1'] ){
                        $("#btnQuiz").addClass("animated bounce infinite text-warning").delay(5000).queue(function(next){
                            $(this).removeClass("animated bounce infinite");
                            next();
                        });
                    }


                }






            });


        });
        $("#btnQuiz").prop('disabled', true);
        $("#btnQuiz").attr('disabled', 'disabled');

        $("#btnQuiz").click(function () {
            var $open = $("#quizOpen").val();
            if ($open) {
                $("#btnQuiz").prop('disabled', false);
                $("#btnQuiz").attr('disabled', false);
            } else {
                var isDisabled = $('#btnQuiz').is('[disabled=disabled]');
                if (isDisabled) {
                    iziToast.error({
                        title: 'Quiz todavía bloqueado',
                        message: 'Para desbloquearlo, debes obtener los tres logros de este nivel',
                        position: 'topRight'
                    });
                }
            }

        });

        var $palabraGit = /^git$/g;
        var $comandoGit = /^git+\s+?\w?/g;
        var $gitEspacio = /^git+\s/g;
        var $configEspacio = /\bconfig+\s/g;
        var $configGlobal = /\bconfig\s+--global+\s/g;
        var $configUserName = /\bconfig\s+--global+\s+user.name+\s/g;
        var $configUserMail = /\b\s+user.email+\s/g;
        var $respuesta = /\bconfig\s+--global+\s+user.name+\s+"?\w{3,}"?/g;
        var $gitHelp = /^git+\s+\bhelp\s?\w?/g;
        var $gitInit = /^git+\s+\binit/g;
        var $gitAdd = /^git+\s+\badd\s+./g;
        var $gitCommit = /^git+\s+\bcommit\s+-m\s+"[a-zA-ZáéíóúAÉÍÓÚÑñ0-9.]+( +[a-zA-Záéíó.úAÉÍÓÚÑñ0-9]?.+[a-zA-ZáéíóúAÉÍÓÚÑñ0-9.])*"/g;
        var $gitConfigUser = /^git+\s+\bconfig\s+--global+\s+user.name+\s+"?\w{3,}"?/g;
        var $gitVersion = /^git+\s+--version$/g;
        var $gitConfigMail = /^git+\s+\bconfig\s+--global+\s+user.email+\s+"?\w{3,}"?/g;
        var $gitConfigEditor = /^git+\s+\bconfig\s+--global+\s+core.editor+\s+"?\w{3,}"?/g;
        var $gitConfigColor = /^git+\s+\bconfig\s+--global+\s+color.ui+\s+"?\w{3,}"?/g;
        var $gitConfigLineAuto = /^git+\s+\bconfig\s+--global+\s+core.autocrlf+\s+input/g;
        var $gitConfigLineSafe = /^git+\s+\bconfig\s+--global+\s+core.safecrlf+\s+true/g;
        var $gitConfigList = /^git+\s+\bconfig\s+--list/g;
        var $c = 0;
        var name = "";
        var email = "";


        $(document).ready(function () {


            videojs.options.flash.swf = "{{ asset('assets/vendor/moovly/js/videojs/video-js.swf') }}";
            //alert(videojs);
            $contador = $("#contadorObtenidos").val();
            //alert($contador);
            for (var $i = 0; $i < $contador; $i++) {
                $('.progress-bar').css('width', $contador * 30 + '%');
                $('.stat-percent').html($contador * 30 + '%');
                $('.progress-bar').attr('aria-valuenow', $contador * 30);
            }

            $("#wizard").steps();

            // Instance the tour
            var tour = new Tour({
                steps: [{
                    title: "Bienvenido",
                    content: "¿Es la primera vez que ingresas verdad? Pues Entonces <strong>¡Bienvenido!</strong>  A través de esta guía te enseñaremos como está distribuida <i>Tu aula virtual</i> para que comiences de una vez a encender tu conocimiento.<br><br> Puedes utilizar las teclas de navegación izquiera y derecha para desplazarte a lo largo del tour. <br><br><img src='{{ asset('images/course/left-right-arrows.png') }}' alt='An opening code bracket' />",
                    placement: "bottom",
                    backdrop: true,
                    backdropContainer: '#wrapper',
                    orphan: true,
                },
                    {
                        element: "#tour1",
                        title: "¿En donde estoy?",
                        content: "Contiene el titulo del curso y en que módulo/clase te encuentras, cuantas has aprobado y cuanto te falta para culminar.",
                        placement: "bottom",
                        backdrop: true,
                        backdropContainer: '#wrapper',
                    },
                    {
                        element: "#tour2",
                        title: "Módulos del Curso",
                        content: "Contiene en amarillo tu ubicación actual, en negro lo que falta y en azul lo que has completado.  <strong>Si pasas sobre ellos</strong>, podrás ver el título del módulo",
                        placement: "bottom",
                        onShown: function (tour) {
                            $('body').addClass('tour-open');
                        },
                        onHidden: function (tour) {
                            $('body').removeClass('tour-close');
                        }
                    },
                    {
                        element: "#tour3",
                        title: "Clase Virtual",
                        content: "En esta sección podrás disfrutar de una manera siempre interactiva de la clase correspondiente al módulo donde estás ubicado.  siempre estarán disponibles para ti para cuando las necesites.",
                        placement: "right",
                        backdrop: true,
                        backdropContainer: '#wrapper'
                    },
                    {
                        element: "#tour4",
                        title: "Área de Trabajo",
                        content: "Aquí es donde nos ensuciaremos las manos y encenderemos nuestros conocimientos, colocando manos a la obra sobre los aprendido en la clase virtual.",
                        placement: "left",
                        backdrop: true,
                        backdropContainer: '#wrapper'
                    }
                ]
            });

            // Initialize the tour
            tour.init();

            $('.startTour').click(function () {
                tour.restart();

                // Start the tour
                // tour.start();
            });

        });


        $(document).keydown(function (e) {

            var previous = 37, next = 39;

            switch (e.keyCode) {
                case previous:

                    $('.flipbook').turn('previous');

                    break;
                case next:

                    $('.flipbook').turn('next');

                    break;
            }

        });

        function loadApp() {

            // Create the flipbook


            $('.flipbook').turn({
                // Width

                width: 822,
                // Height

                height: 600,
                // Elevation

                elevation: 10,
                // Enable gradients

                gradients: false,
                // Auto center this flipbook

                autoCenter: true

            });
        }

        // Load the HTML4 version if there's not CSS transform

        yepnope({
            test: Modernizr.csstransforms,
            yep: ['{{ asset("assets/vendor/turnjs/turn.js") }}'],
            nope: ['{{ asset("assets/vendor/turnjs/turn.html4.min.js") }}'],
            both: ['{{ asset("assets/vendor/turnjs/basic.css") }}'],
            complete: loadApp
        });


        var $loading = $('#loadingBulb').hide();
        var $guardado = $('#guardado').show();
        $(document)
            .ajaxStart(function () {
                $guardado.hide();
                $loading.show();
            })
            .ajaxStop(function () {
                $loading.hide();
                $guardado.show();
            });


        $(window).load(function (e) {
            $("#inputConsole").click();
        });


        function toggleNav(b) {
            Reveal.configure({
                controls: b,
                progress: b,
                keyboard: b,
                overview: b,
                touch: b
            });
        }



console.log(actividades);
    </script>



{% endblock %}
